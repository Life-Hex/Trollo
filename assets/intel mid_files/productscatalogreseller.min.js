var intel=intel||{};
intel.locationBanner=(function(d){var a={element:".location-banner",disabledText:"disabled"};
var g,i;
function h(){g=d(a.element);
i=g.find(".confirm-cta").find(".btn-primary");
var l=g.find("select");
if(g.length<1){return
}d(document).on("click",".edit-locale",function(){d(document).trigger("intel.tray.close");
b()
});
i.on("click",function(){e()
});
g.find(".btn-close").on("click",function(){c()
});
var j=d.cookie("locale-preference");
if(!j){b()
}var k=l.find("option[selected]").val();
if(k){f(l,k)
}l.on("change",function(){var m=d(this).val();
f(l,m)
});
d(window).on("intel.edit.locale",function(){b()
})
}function b(){g.addClass("open")
}function c(){g.removeClass("open")
}function f(l,j){var m=l.find('option[value="'+j+'"]');
m.attr("selected",true);
var k=g.find("label");
k.addClass("has-value");
var n=m.text();
if(n){k.find("input").val(d.trim(n))
}if(m.val()){i.removeClass(a.disabledText).prop(a.disabledText,false)
}else{i.addClass(a.disabledText).prop(a.disabledText,true)
}}function e(){var l=g.find("select");
var k=l.find("option:selected");
if(k&&l.val()){var p=k.val(),j=k.attr("data-location"),n=window.location.href,r=p?"countrylabel="+p:"",o;
if(j){var q=n.split("/www/");
var m=q[1].split("/");
m[0]=j;
m[1]=k.attr("data-language");
m=m.join("/");
q[1]=m;
o=q.join("/www/")
}else{o=n
}if(n.indexOf("countrylabel=")!==-1){o=o.replace(/(countrylabel=).*?(&|$)/,"$1"+p+"$2")
}else{if(r){o+=location.search?"&"+r:"?"+r
}}d.cookie("locale-preference",p,{path:"/",secure:window.location.protocol==="https:"});
c();
window.location.href=o
}}return{initialize:h}
})(jQuery);
jQuery(document).ready(intel.locationBanner.initialize);
var intel=intel||{};
intel.googleMapsAPI=(function(d){var c;
function b(e){var i=(!e)?"initPlacesAPI":e;
c=d("meta[name='location']").attr("content")==="cn";
var g=c?d("#baiduMapsURL").val():d("#googleMapsURL").val();
if(g){var h=c?"baiduMapsScript":"googleMapsScript";
if(e==="initSuggestedResellerBlade"){g=d("#googleMapsURL").val();
h="googleMapsScript"
}var f=g.replace("=initPlacesAPI","="+i);
if(d("script."+h).length<1){d("<script/>",{type:"text/javascript","class":h,src:f}).appendTo("body")
}else{if(window[e]!==undefined){window[e]()
}}}}function a(){return c
}return{addMapsScriptTag:b,isBaiduMaps:a}
})(jQuery);
var intel=intel||{};
intel.simplifyPagination=(function(f){var i={component:"simplify-pagination",pageActive:"page-active",pageInput:"page-control",pageTotal:"page-total",pageResultCount:"result-count",pagePrev:"prev",pageNext:"next",pagingPaddle:"paging-paddle",pagingForms:"simplify-form-paging",disabled:"disabled",hidden:"hidden",click:"click",keyup:"keyup",submit:"submit"};
var c=-1;
var a=-1;
var t;
var k;
var e;
var r;
var s;
var m;
var l=5000;
function q(){e=f("."+i.component);
if(e.length<1){return
}k=f("input."+i.pageInput,e);
t=f("."+i.pagingForms,e);
r=e.find("."+i.pagingPaddle+".prev");
s=e.find("."+i.pagingPaddle+".next");
e.off(i.click).on(i.click,"."+i.pagingPaddle,h);
k.off(i.keyup).on(i.keyup,p);
t.off(i.submit).on(i.submit,n)
}function b(){if(e.length>0){var u=f(k[0]);
c=u.val()*1;
a=u.attr("max")
}}function o(w,v,u){if(e.length<1){return
}c=+w;
a=+v;
k.val(c).attr("max",a);
e.find("."+i.pageTotal).html(v);
if(c===1){r.addClass(i.disabled);
s.removeClass(i.disabled)
}else{if(c===a){s.addClass(i.disabled);
r.removeClass(i.disabled)
}else{r.removeClass(i.disabled);
s.removeClass(i.disabled)
}}if(v<2){e.addClass(i.hidden)
}else{e.removeClass(i.hidden)
}if(typeof u!=="undefined"){e.find("."+i.pageResultCount).html(u)
}}function h(v){var w=f(v.currentTarget);
if(w.hasClass(i.disabled)){return false
}if(c===-1){b()
}var u;
if(w.hasClass("prev")){u=c-1
}else{u=c+1
}if(u>0&&u<=a){c=u;
o(c,a);
g()
}return false
}function g(){e.trigger(intel.constant.event.PAGING_PAGE_UPDATED,[c])
}function p(u){window.clearTimeout(m);
if(u.which===13){d(f(this))
}else{var w=f(this);
var v=parseInt(w.val());
if(!isNaN(v)&&(v>parseInt(w.attr("max"))||v<parseInt(w.attr("min")))){w.val(c)
}j()
}}function d(u){u=f(u);
var w=u.val();
var v=parseInt(w+"",10);
if(!isNaN(v)&&v>=u.attr("min")&&v<=u.attr("max")){c=v;
k.val(v);
o(c,a);
g()
}else{j()
}}function n(u){u.preventDefault();
return false
}function j(){m=window.setTimeout(function(){k.val(c)
},l)
}return{initialize:q,getActivePage:b,setActivePage:o}
})(jQuery);
jQuery(window).ready(intel.simplifyPagination.initialize);
var intel=intel||{};
intel.gmapManager=(function(){var s=false,T="loading",b="find-stores-form",I="stores-list",r="store-info",J="#find-stores-count",Y="search-result-error",l="simplify-pagination",Z="error-no-results",u="slider-updated",q="hidden";
var D="/etc/designs/intel/clientlibs/pages/productscatalogreseller/images/map-pin-light-blue.png",i=3;
var x,R,d,j,A,N,O,e,S,F,P,E,C;
var W,v=false,H,g={latitude:116,longitude:40,radius:25};
function Q(aa){s=intel.googleMapsAPI.isBaiduMaps();
x=$(aa);
H=x.find("."+b)[0].action;
R=x.find("."+I);
S=x.find("."+l);
d=x.find(J);
A=x.find("#findStoresLocation");
N=x.find("#findStoresDistant");
j=x.find("."+Y);
O=j.find(".error-status").html();
F=x.find("."+Z);
e=F.html();
g.query=A.val();
C=x.find("#countryLabel");
g.countryLabel=C.val();
P=N.data("tooltip-label")||"miles";
g.currentPagePath=$("#currentPagePathValue").val();
P=N.data("tooltip-label");
E=$('input[name="ip_check"]');
k();
g.radius=N.val();
intel.appCore.registerResizeHandler(w);
if(S.length){S.on(intel.constant.event.PAGING_PAGE_UPDATED,p)
}if(s){intel.baiduMapManager.initialize(x,g,E,i,D,j)
}else{intel.googleMapManager.initialize(x,g,E,i,D,j)
}}function U(ab,aa){$.extend(g,ab);
if(aa){g.latitude=null;
g.longitude=null
}}function n(ac,ab,aa){ac.pinLabel=ab+1;
ac.address=[ac.addressLine1,ac.addressLine2,ac.addressLine3].join(" ");
ac.postCode=(!ac.postCode)?"":ac.postCode;
ac.companyUrl=L(ac.companyUrl);
ac.storeUrl=L(ac.storeUrl);
if(ac.partnerType){ac.partnerTypeClass=ac.partnerType.toLowerCase()
}if(ac.categories){ac.categoriesListing=ac.categories.join(", ")
}if(s){intel.baiduMapManager.setExtraStoreData(ac,aa)
}else{intel.googleMapManager.setExtraStoreData(ac,aa)
}}function B(aa){var ab=document.createElement("div");
ab.innerHTML=decodeURI(aa).replace("\\","");
return $(ab).text()
}function L(aa){if(aa&&aa.indexOf("http")===-1&&aa.indexOf("https")===-1){return"http://"+aa
}return aa
}function k(){var aa=N.bootstrapSlider({formatter:function(ab){if(ab===50){ab="&ge;"+ab
}return B(ab+" "+P)
}});
x.find(".slider").find(".tooltip-inner").text(g.radius+" "+P);
aa.on("slideStop",M);
aa.on("slide",a)
}function M(aa){var ab=$(aa.currentTarget);
ab.prev().removeClass(u);
g.page_no=1;
g.radius=aa.value;
U(g);
if(!(g.longitude===null||g.latitude===null)){c(g)
}}function a(aa){var ab=$(aa.currentTarget);
ab.prev().addClass(u)
}function h(ab){if(ab==="ZERO_RESULTS"){ab=O
}z();
var aa=$("<div class='error-status'></div>").append(ab);
var ac=$("<div class='error-no-result'></div>").append(e);
j.html(aa).removeClass(q);
j.append(ac);
x.removeClass(T)
}function c(aa){U(aa);
x.addClass(T);
j.addClass(q);
if(P){g.distanceLabel=P
}g.countryLabel=C.val();
if(!(g.longitude===null||g.latitude===null)){$.ajax({url:H,data:g}).done(f).fail(h)
}else{x.removeClass(T);
j.removeClass(q)
}}function f(ac){z();
var ab;
ab=ac.stores||ac.resellers;
if(!ab){ab=ac
}if(ac.totalPages&&!v){intel.simplifyPagination.setActivePage(1,ac.totalPages,ac.totalResults)
}v=false;
if(ab.length<1){h(O);
return
}var aa=encodeURIComponent(A.val());
d.text(ac.totalResults||ab.length);
if(s){intel.baiduMapManager.populateStoreData(ab,aa)
}else{intel.googleMapManager.populateStoreData(ab,aa)
}}function z(){if(s){intel.baiduMapManager.deleteAllMarkers()
}else{intel.googleMapManager.deleteAllMarkers()
}R.find("."+r).remove()
}function p(aa,ab){V();
v=true;
g.page_no=ab;
c(g)
}function t(ad){var af,ac,aa,ab=$("#find-resellers-item-template"),ae=$("#find-store-item-template");
if(g.findStores){ac=$('<li class="store-info"></li>');
aa=G(ae,ad)
}else{ac=$('<li class="store-info store-reseller-info"></li>');
aa=G(ab,ad)
}$(ac).append(aa);
af=$(ac);
R.append(af);
$.each(R.find("[data-url]"),function(){var ah=$(this);
var ag=ah.attr("data-url");
ah.attr("href",ag)
});
return{store:af,retailer:ad}
}function y(ab){var aa=$(ab).html();
aa=aa.replace(/{{&gt;/g,"{{>").replace(/{{&#35;/g,"{{#");
return Handlebars.compile(aa)
}function G(ab,ae,ad){if(ab.length>0){var ac=y(ab);
var aa;
if(ad){var af=ac(ae);
af=af.replace(/data-url/g,"href");
aa=af
}else{aa=ac(ae)
}return aa
}}function V(){if(s){intel.baiduMapManager.closeActiveStore(W)
}else{intel.googleMapManager.closeActiveStore(W)
}}function X(aa){if(intel.breakpoints.getBreakpointNumber()<i){return
}V();
W=aa;
aa.store.addClass("active");
if(s){intel.baiduMapManager.setActiveStore(aa)
}else{intel.googleMapManager.setActiveStore(aa)
}}function K(){if(s){intel.baiduMapManager.setupPlaceAutocomplete()
}else{intel.googleMapManager.setupPlaceAutocomplete()
}}function o(){if(s){intel.baiduMapManager.getCurrentLatLng()
}else{intel.googleMapManager.getCurrentLatLng()
}}function w(){if(s){intel.baiduMapManager.handleResize()
}else{intel.googleMapManager.handleResize()
}}function m(){if(s){intel.baiduMapManager.checkLocaleUk()
}else{intel.googleMapManager.checkLocaleUk()
}}return{initialize:Q,setupPlaceAutocomplete:K,handleSearchError:h,getCurrentLatLng:o,checkLocaleUk:m,addStoreInfo:t,clearExistingSearchData:z,handleResize:w,getContent:G,setActiveStore:X,setExtraStoreData:n,closeActiveStore:V,updateSearchFormData:U,searchStores:c}
})();
var intel=intel||{};
intel.googleMapManager=(function(s){var z,p,t,o,g=[],D,m,d,q,r,e,u,a=14,f,F="change",H="loading",k="hidden";
D={disableAutoPan:false,maxWidth:0,zIndex:null,isHidden:false,pane:"floatPane",alignBottom:true,enableEventPropagation:false,closeBoxURL:"/etc/designs/intel/clientlibs/pages/productscatalogreseller/images/nav-close-gray-sm.png"};
function B(P,N,O,K,M,L){t=new google.maps.Geocoder();
m=P;
d=N;
r=O;
e=K;
q=M;
f=L;
o=m.find("#findStoresLocation")
}function G(){var L=p.getPlace();
r.attr("checked",false);
if(!L.geometry){j()
}else{d.latitude=L.geometry.location.lat();
d.longitude=L.geometry.location.lng();
var K=L.components;
d.query=L.name;
if(K&&K.length>3&&K[3].long_name){d.query=K[3].long_name
}d.page_no=1;
v();
intel.gmapManager.updateSearchFormData(d);
intel.gmapManager.searchStores(d)
}}function w(){if(p){return
}p=new google.maps.places.Autocomplete(o.get(0),{types:["(regions)"]});
p.addListener("place_changed",G)
}function b(L,K){if(z){u=new google.maps.LatLngBounds()
}s.each(L,function(M,O){intel.gmapManager.setExtraStoreData(O,M,K);
var N=intel.gmapManager.addStoreInfo(O);
y(N);
g.push(N)
});
if(z){z.fitBounds(u)
}m.removeClass(H);
f.addClass(k)
}function h(M,L){var K="&destination="+encodeURIComponent(M.address+","+M.city+","+M.state+" "+M.postCode);
M.directionUrl="https://www.google.com/maps/dir/?api=1&origin="+L+K
}function C(){if(z){for(var K=0;
K<g.length;
K++){g[K].marker.setMap(null)
}}g=[]
}function I(K){if(K){K.infowindow.close();
K.store.removeClass("active");
K=null
}}function J(K){K.infowindow.open(z,K.marker);
window.setTimeout(function(){z.panTo(K.marker.getPosition())
},1000)
}function y(P){if(z){var M=P.retailer;
var Q={url:q,origin:new google.maps.Point(0,0),anchor:new google.maps.Point(15,50),labelOrigin:new google.maps.Point(15,16)};
var O=new google.maps.Marker({position:{lat:M.latitude*1,lng:M.longitude*1},map:z,icon:Q,label:{text:M.pinLabel+"",color:"#ffffff",fontWeight:"bold"}});
var N;
var R={};
var S=s("#find-resellers-info-window-template"),K=s("#find-store-info-window-template");
if(d.findStores){N=intel.gmapManager.getContent(K,M,true);
R.pixelOffset=new google.maps.Size(-100,0);
R.closeBoxMargin="10px 15px 15px 15px"
}else{N=intel.gmapManager.getContent(S,M,true);
R.pixelOffset=new google.maps.Size(-240,0);
R.closeBoxMargin="17px 15px 15px 15px"
}R.infoBoxClearance=new google.maps.Size(10,250);
R.content=N;
var L=new InfoBox(s.extend(R,D));
P.infowindow=L;
P.marker=O;
L.addListener("closeclick",function(){intel.gmapManager.closeActiveStore()
});
O.addListener("click",function(){intel.gmapManager.setActiveStore(P)
});
P.store.on("click",function(T){intel.gmapManager.setActiveStore(P);
T.preventDefault();
return false
});
u.extend(O.position)
}}function x(L,K){if(K==="OK"){var N=L[0].geometry.location;
d.latitude=N.lat();
d.longitude=N.lng();
d.query=L[0].formatted_address;
v();
intel.gmapManager.updateSearchFormData(d);
intel.gmapManager.searchStores(d)
}else{var M=true;
intel.gmapManager.updateSearchFormData(d,M);
intel.gmapManager.handleSearchError(K);
return false
}}function i(){var K=window.location.href;
E();
if(K.toLowerCase().indexOf("uk")===-1){r.prop("checked",true);
c()
}else{j()
}}function E(){r.off(F).on(F,function(){if(this.checked){c()
}else{j()
}})
}function c(){var K=new google.maps.Geocoder;
if(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(L){var M={lat:parseFloat(L.coords.latitude),lng:parseFloat(L.coords.longitude)};
K.geocode({location:M},function(N){if(N){A(N)
}})
},function(L){if(L.code===L.PERMISSION_DENIED){r.attr("checked",false)
}j()
})
}else{j()
}}function A(L){for(var K=0;
K<L.length;
K++){if(L[K].types[0]==="postal_code"){n(L,K);
break
}}}function n(P,N){var M=P[N].address_components;
var L;
for(var O=0;
O<M.length;
O++){var Q=M[O].types[0];
var K=M[O];
switch(Q){case"locality":L=K.long_name;
break;
case"administrative_area_level_2":L=K.long_name;
break;
case"administrative_area_level_1":L=K.long_name;
break;
default:L="";
break
}if(L){break
}}j(L)
}function j(L){var K,M=s("#findStoresLocation");
if(L!==undefined){K=L
}else{K=o.val()
}M[0].setAttribute("value",K);
M.val(K);
if(K.length<1){return
}t.geocode({address:K},x)
}function v(){if(intel.breakpoints.getBreakpointNumber()<e){z=null;
return
}if(!z){z=new google.maps.Map(m.find(".find-stores-map").get(0),{center:{lat:d.latitude,lng:d.longitude},zoom:a,streetViewControl:false,mapTypeControl:false})
}else{z.setCenter({lat:d.latitude,lng:d.longitude});
z.setZoom(a)
}}function l(){if(intel.breakpoints.getBreakpointNumber()<e){return
}if(!m.is(":visible")){return
}if(z){google.maps.event.trigger(z,"resize");
z.setCenter({lat:d.latitude,lng:d.longitude})
}else{v();
u=new google.maps.LatLngBounds();
s.each(g,function(K,L){y(L)
});
z.fitBounds(u)
}}return{initialize:B,setupPlaceAutocomplete:w,getCurrentLatLng:j,checkLocaleUk:i,populateStoreData:b,deleteAllMarkers:C,setExtraStoreData:h,setActiveStore:J,closeActiveStore:I,handleResize:l}
})(jQuery);
var intel=intel||{};
intel.baiduMapManager=(function(v){var A,s,w,r,i=[],D,p,e,t,u,g,f=[],a=16,h,F="change",n="keyup",H="loading",m="hidden";
function B(P,N,O,K,M,L){w=new BMap.Geocoder();
p=P;
e=N;
u=O;
g=K;
t=M;
h=L;
r=p.find("#findStoresLocation")
}function G(){u.attr("checked",false);
var K=r.val();
w.getPoint(K,function(L){y(L)
})
}function I(L){var K="active";
if(L){L.infowindow.close();
if(L.store.hasClass(K)){L.store.removeClass(K)
}L=null
}}function x(){if(s){return
}var L="findStoresLocation";
function K(){v("#findStoresLocation").off(n).on(n,function(N){var M=N.keyCode;
if(M===13){f=[];
G();
return false
}else{return true
}})
}s=new BMap.Autocomplete({input:L,location:A,onSearchComplete:function(){K()
}});
s.addEventListener("onconfirm",G)
}function b(L,K){f=[];
v.each(L,function(M,O){intel.gmapManager.setExtraStoreData(O,M,K);
var N=intel.gmapManager.addStoreInfo(O);
z(N);
i.push(N)
});
p.removeClass(H);
h.addClass(m)
}function j(M){var L=e.latitude+","+e.longitude,K=M.latitude+","+M.longitude,N=M.state,O="navigation";
var P="http://api.map.baidu.com/direction?origin="+L+"&destination="+K+"&mode="+O+"&region="+N+"&output=html";
M.directionUrl=P
}function C(){if(A){for(var K=0;
K<i.length;
K++){i[K].marker.remove();
i[K].infowindow.close()
}}i=[]
}function z(Q){if(A){var N=Q.retailer;
var R,P;
var K=N.pinLabel;
R=new BMap.Icon(t,new BMap.Size(30,43),{anchor:new BMap.Size(0,0),infoWindowAnchor:new BMap.Size(0,0)});
Q.point=new BMap.Point(N.longitude*1,N.latitude*1);
P=new BMap.Marker(Q.point,{icon:R});
if(A){A.setViewport(f)
}A.addOverlay(P);
var U=new BMap.Label(K,{point:Q.point,offset:new BMap.Size(9,10)});
P.setLabel(U);
U.setStyle({borderWidth:"0",color:"white",backgroundColor:"transparent",fontSize:"18px",textAlign:"center"});
var O;
var S={};
var T=v("#find-resellers-info-window-template"),L=v("#find-store-info-window-template");
if(e.findStores){O=intel.gmapManager.getContent(L,N,true);
S.pixelOffset=new BMap.Size(-100,0);
S.closeBoxMargin="10px 15px 15px 15px"
}else{O=intel.gmapManager.getContent(T,N,true);
S.pixelOffset=new BMap.Size(-240,0);
S.closeBoxMargin="17px 15px 15px 15px"
}S.infoBoxClearance=new BMap.Size(10,250);
S.content=O;
var M;
D={align:INFOBOX_AT_TOP,closeIconMargin:"10px 10px 0 0",enableAutoPan:true,closeIconUrl:"http://intel.razorfishwest.com/pattern-library/qa/asset/image/sprite-icons/nav-close-gray-sm.png",offset:new BMap.Size(-15,-50)};
M=new BMapLib.InfoBox(A,S.content,D);
Q.infowindow=M;
Q.marker=P;
P.addEventListener("click",function(){intel.gmapManager.setActiveStore(Q)
});
f.push(P.getPosition());
A.centerAndZoom(P.getPosition(),a);
Q.store.on("click",function(V){intel.gmapManager.setActiveStore(Q);
V.preventDefault();
return false
})
}}function J(K){K.infowindow.open(K.marker)
}function y(N){var M=r.val();
var K=(N)?N:"";
if(K){e.latitude=K.lat;
e.longitude=K.lng;
e.query=M;
c();
intel.gmapManager.updateSearchFormData(e);
intel.gmapManager.searchStores(e)
}else{var L="ZERO_RESULTS";
var O=true;
intel.gmapManager.updateSearchFormData(e,O);
c();
intel.gmapManager.handleSearchError(L);
return false
}}function k(){var K=window.location.href;
E();
if(K.toLowerCase().indexOf("uk")===-1){u.prop("checked",true);
d()
}else{l()
}}function E(){u.off(F).on(F,function(){if(this.checked){d()
}else{l()
}})
}function d(){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(L){var K=new BMap.Point(parseFloat(L.coords.longitude),parseFloat(L.coords.latitude));
w.getLocation(K,function(M){if(M){q(M)
}})
},function(K){if(K.code===K.PERMISSION_DENIED){u.attr("checked",false)
}l()
})
}else{l()
}}function q(L){var M=L.addressComponents;
var K=M.province?","+M.province:"";
if(M.city){l(M.city+K)
}else{if(M.district){l(M.district)
}else{if(M.province){l(M.province)
}}}}function l(L){var K,M=v("#findStoresLocation");
if(L!==undefined){K=L
}else{K=r.val()
}M[0].setAttribute("value",K);
M.val(K);
if(K.length<1){return
}w.getPoint(K,function(N){y(N);
M.val(K)
},K)
}function c(){if(intel.breakpoints.getBreakpointNumber()<g){A=null;
return
}if(!A){A=new BMap.Map("find-store-location-map");
var K=new BMap.Point(116,40);
A.centerAndZoom(K,a);
A.addControl(new BMap.NavigationControl());
A.addControl(new BMap.MapTypeControl());
A.enableScrollWheelZoom();
A.enableContinuousZoom()
}else{var L=new BMap.Point(e.longitude,e.latitude);
A.centerAndZoom(L,a)
}}function o(){if(intel.breakpoints.getBreakpointNumber()<g){return
}if(!p.is(":visible")){return
}if(A){var K=new BMap.Point(e.longitude,e.latitude);
A.centerAndZoom(K,a)
}else{c();
v.each(i,function(L,M){z(M);
i.push(M)
})
}}return{initialize:B,setupPlaceAutocomplete:x,getCurrentLatLng:l,checkLocaleUk:k,populateStoreData:b,deleteAllMarkers:C,setExtraStoreData:j,setActiveStore:J,closeActiveStore:I,handleResize:o}
})(jQuery);
var intel=intel||{};
intel.findResellers=(function(e){var c={component:"#find-resellers",expertise:"input[name='expertise']",countryLabel:"input[name='countryLabel']"};
var b;
var d={findResellers:true,categories:"",page_no:1,countryLabel:""};
function g(){b=e(c.component);
if(b.length<1){return
}f();
intel.gmapManager.initialize(b);
intel.gmapManager.setupPlaceAutocomplete();
b.find(c.expertise).on("click",a);
intel.gmapManager.checkLocaleUk()
}function f(){var h=[];
e(c.expertise+":checked").each(function(j,i){h.push(e(i).val())
});
d.category=h.join(",");
d.countryLabel=b.find(c.countryLabel).val();
intel.gmapManager.updateSearchFormData(d)
}function a(){f();
intel.gmapManager.searchStores(d)
}return{initialize:g}
})(jQuery);
function initFindResellersComponent(){intel.simplifyPagination.initialize();
if(intel.googleMapsAPI.isBaiduMaps()){$.getScript("/etc/designs/intel/clientlibs/pages/productscatalogreseller/js/vendor/infoBox.min.js")
}else{$.getScript("/etc/designs/intel/clientlibs/pages/productscatalogreseller/js/vendor/gmap-util3-infobox.js")
}intel.findResellers.initialize()
}jQuery(window).load(function(){if($("#find-resellers").length>0){intel.googleMapsAPI.addMapsScriptTag("initFindResellersComponent")
}});
var intel=intel||{};
intel.resellerBlade=(function(d){var c={element:".suggested-reseller-blade",resellerContainer:".reseller-container",equalHeights:".equal-heights",currentPagePath:"input[name='currentPagePath']",countryLabel:"input[name='countryLabel']"},h,e={resellers:[]},g;
function i(){h=d(c.element);
if(h.length<1){return
}h.each(function(){var l=d(this);
var j=l.find(c.currentPagePath).val();
g=l.find(c.countryLabel).val();
var k=new google.maps.Geocoder();
k.geocode({address:g},function(n){var m=n[0].geometry.location;
var q=m.lat();
var p=m.lng();
var o={latitude:q,longitude:p,currentPagePath:j};
f(l,o)
})
})
}function f(k,j){d.ajax({method:"get",url:"/libs/apps/intel/services/suggestedResellerBean",data:j}).done(function(l){if(l.length>0){e.resellers=a(l);
b(e,k)
}})
}function b(k,o){var j=d("#resellers-blade-template");
var m=o.find(".reseller-container");
if(j.length>0){var n=d(j).html();
n=n.replace(/{{&gt;/g,"{{>").replace(/{{&#35;/g,"{{#");
var l=Handlebars.compile(n);
if(k){m.empty();
m.append(l(k));
d.each(m.find("[data-url]"),function(){var q=d(this);
var p=q.attr("data-url");
q.attr("href",p)
});
m.find(c.equalHeights).find("h3").matchHeight();
m.find(c.equalHeights).matchHeight()
}}}function a(l){for(var m=0;
m<l.length;
m++){var k=l[m];
k.categoriesStr=(!k.categories)?"":k.categories.join(", ");
k.address=[k.addressLine1,k.addressLine2,k.addressLine3].join(" ");
k.postCode=(!k.postCode)?"":k.postCode;
k.phone=(k.phone==="-")?"":k.phone;
var j="&destination="+encodeURIComponent(k.address+","+k.city+","+k.state+" "+k.postCode);
k.directionUrl="https://www.google.com/maps/dir/?api=1&origin="+g+j;
k.partnerTypeClass=k.partnerType.toLowerCase()
}return l
}return{initialize:i}
})(jQuery);
function initSuggestedResellerBlade(){intel.resellerBlade.initialize()
}jQuery(document).ready(function(){if($(".suggested-reseller-blade").length>0){intel.googleMapsAPI.addMapsScriptTag("initSuggestedResellerBlade")
}});
var intel=intel||{};
intel.findStores=(function(f){var d="#find-stores-modal",c="find-stores-overlay";
var a,g=false;
var b={findStores:true,business_id:1100000314,productId:0,page_no:1};
function h(){var i;
i=f(d);
if(i.length<1){return
}a=i.find("."+c);
i.on("shown.bs.modal",e)
}function e(i){intel.gmapManager.updateSearchFormData(b);
if(!g){intel.gmapManager.initialize(a);
g=true
}intel.gmapManager.setupPlaceAutocomplete();
intel.simplifyPagination.initialize();
var k=f(i.relatedTarget);
var l={};
var j=k.data("business-id");
if(j){l.business_id=j
}else{intel.gmapManager.handleSearchError(f(".search-result-error .error-status").html())
}intel.gmapManager.updateSearchFormData(l);
intel.gmapManager.checkLocaleUk()
}return{initialize:h}
})(jQuery);
function initFindStoresComponent(){intel.simplifyPagination.initialize();
if(intel.googleMapsAPI.isBaiduMaps()){$.getScript("/etc/designs/intel/clientlibs/pages/productscatalogreseller/js/vendor/infoBox.min.js")
}else{$.getScript("/etc/designs/intel/clientlibs/pages/productscatalogreseller/js/vendor/gmap-util3-infobox.js")
}intel.findStores.initialize()
}jQuery(window).load(function(){if($("#find-stores-modal").length>0){intel.googleMapsAPI.addMapsScriptTag("initFindStoresComponent")
}});
$(document).ready(function(){if($("textarea#defers").length>0&&$("#find-stores-modal").length>0){intel.googleMapsAPI.addMapsScriptTag("initFindStoresComponent")
}});